<!DOCTYPE html>
<html> 
    <head>
        <title>Mapa Distritos</title> 
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta charset="utf-8" http-equiv="X-UA-Compatible"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
        <meta name="apple-mobile-web-app-capable" content="yes"/>
        <link rel="apple-touch-icon" href="images/"/>
        <link rel="shortcut icon" href="images/">
        <link rel="icon" href="images/" />
        <script src="js/jquery.js" type="text/javascript"></script>
        <script type="text/javascript" src="http://maps.google.com/maps/api/js"></script>
    <body>
            <div class="" id="map_canvas"></div>
                      
    <script>

        var map;
        var marker;

        $(document).ready(function() {
            $("#map_canvas").css("height", $(window).height() - 30);
			initialize();
			

        });

        $(window).resize(function() {
            $("#map_canvas").css("height", $(window).height() - 30);
        });


		function initialize() {
					var mapOptions = {
						zoom: 13
					};
					map = new google.maps.Map(document.getElementById('map_canvas'), mapOptions);
			  
					marker = new google.maps.Marker({
					});
					var imageBounds = new google.maps.LatLngBounds(
						new google.maps.LatLng(18.860879329595857, -99.34311836957932), 
						new google.maps.LatLng(19.028447938103028, -99.18035387992859)
					);

					var oldmap = new google.maps.GroundOverlay("images/mapa.png", imageBounds);
					oldmap.setMap(map);

		  // Try HTML5 geolocation
			if(navigator.geolocation) {
				navigator.geolocation.getCurrentPosition(function(position) {
					var pos = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
					marker.setPosition(pos);
					marker.setMap(map);

					map.setCenter(pos);
				}, function() {
				  handleNoGeolocation(true);
				});
			 } else {
				// Browser doesn't support Geolocation
				handleNoGeolocation(false);
			 }
		}

function handleNoGeolocation(errorFlag) {
  if (errorFlag) {
    var content = 'Error: The Geolocation service failed.';
  } else {
    var content = 'Error: Your browser doesn\'t support geolocation.';
  }

  var options = {
    map: map,
    position: new google.maps.LatLng(18.93080713014078, -99.22439575195312),
    content: content
  };

  map.setCenter(options.position);
}
		


    </script>
   
</body>
</html>

